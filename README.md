# EDEN Validator
Mean't to validate the core idea of time dilation within the world model for the **EDEN PROJEKT**.

## ğŸ“ Overview
- Core Physics Engine: Bullet Physics 3.x
- Build System: CMake 3.15+ & C++17
- Compiler: GCC 11+ or Clang 13+ (Use `-ffp-contract=off` flag for determinism)
- Profiling Tools: perf (Linux), Valgrind, and Tracy (optional).

## âš™ï¸ Setup
### Ubuntu/Debian Linux
```sh
# Update package lists
sudo apt update

# Install build essentials
sudo apt install -y build-essential cmake git

# Install Bullet Physics
sudo apt install -y libbullet-dev libbullet-extras-dev

# Optional: Install profiling tools
sudo apt install -y linux-tools-common linux-tools-generic valgrind

# Verify installations
cmake --version
g++ --version
```

### macOS
```sh
# Install Homebrew (if not installed)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install dependencies
brew install cmake bullet

# Optional: profiling
# Note: may have issues on Apple
brew install valgrind
```

### Windows (MSYS2/MinGW)
```sh
# Install MSYS2 from https://www.msys2.org/

# In MSYS2 terminal:
pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-cmake mingw-w64-x86_64-bullet
```

## âœ¨ Project Structure
```sh
    eden-validator/
        â”œâ”€â”€ CMakeLists.txt
        â”œâ”€â”€ .gitignore
        â”œâ”€â”€ vcpkg.json
        â”œâ”€â”€ src/
        â”‚    â””â”€â”€ validator.cpp
        â”œâ”€â”€ build/
        â”‚    â””â”€â”€ (generated by CMake.)
        â”œâ”€â”€ LICENSE
        â””â”€â”€ README.md
```

## ğŸ—ï¸ Build & Run
```sh
# Create build directory
mkdir -p eden-validator/src
cd eden-validator

# Copy validator.cpp to src/
# Copy CMakeLists.txt to project root

# Build
mkdir build && cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
make -j$(nproc)

# Run
./eden_validator

# For debug build (slower, but better error messages)
cd ..
mkdir build-debug && cd build-debug
cmake -DCMAKE_BUILD_TYPE=Debug ..
make -j$(nproc)
./eden_validator
```

## âš¡Performance Tuning Flags
### For Maximum Speed (validation testing)
```sh
cmake -DCMAKE_BUILD_TYPE=Release \
      -DCMAKE_CXX_FLAGS="-O3 -march=native -flto" \
      ..
```

### For Determinism Verification
```sh
cmake -DCMAKE_BUILD_TYPE=Release \
      -DCMAKE_CXX_FLAGS="-O2 -ffp-contract=off -fno-fast-math" \
      ..
```

## ğŸ¯ Expected Results
### Success Criteria
#### Phase 1: Speed Benchmarks

- 10 bodies: >1000x time dilation (trivial load)
- 100 bodies: >100x time dilation (target workload)
- 1000 bodies: >10x time dilation (stress test)
- AI overhead: <50% slowdown

#### Phase 3: Determinism
âœ“ All 10 runs produce identical results <br>
âœ“ Bit-perfect floating-point matching <br>

#### Phase 4: Checkpointing
âœ“ Rollback produces identical future states <br>
âœ“ No drift after 1000+ steps <br>

### Fail Criteria
ğŸš© Cannot achieve 10x dilation with 100 bodies <br>
ğŸš© Non-deterministic results (different runs diverge) <br> 
ğŸš© Checkpoint rollback produces different outcomes <br>
ğŸš© Memory usage grows unbounded <br>

## ğŸ” Profiling Commands
### CPU Profiling with perf (Linux)
```sh
# Record
perf record -g ./eden_validator

# View report
perf report

# Find hotspots
perf top
```

### Memory Analysis with Valgrind
```sh
# Check for leaks
valgrind --leak-check=full ./eden_validator

# Profile allocations
valgrind --tool=massif ./eden_validator
ms_print massif.out.<pid>
```

### Quick Benchmark
```sh
# Time multiple runs
for i in {1..5}; do time ./eden_validator; done
```

## ğŸ”§ Troubleshooting
### "Bullet not found"
```sh
# Manual installation
git clone https://github.com/bulletphysics/bullet3.git
cd bullet3
mkdir build && cd build
cmake .. -DBUILD_SHARED_LIBS=ON
make -j$(nproc)
sudo make install
```

## âš–ï¸ License
*Â© 2025 Vallereya* <br>
All rights reserved. <br>

*Code and Contributions have **MIT License**. <br>
See **LICENSE** for more information.* <br>
